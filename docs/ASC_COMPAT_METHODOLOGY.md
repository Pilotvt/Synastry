# Методология оценки совместимости ASC×ASC

## Источник данных
Файл: `data/совместимость_144_ru_full.json`  
Содержит подробные описания совместимости для всех 144 комбинаций восходящих знаков (12×12).

## Процесс оценки

### 1. Анализ описаний
Каждое описание включает аспекты:
- Дружба
- Работа
- Любовь
- Отношения
- Совместная жизнь
- Брак

### 2. Классификация по score

**Отличная совместимость (0.85–1.0):**
- Ключевые слова: "идеальны", "прекрасно", "союз на небесах", "брак на всю жизнь", "счастливая супружеская жизнь"
- Примеры: Телец×Рак, Рак×Скорпион, Дева×Козерог

**Хорошая совместимость (0.70–0.84):**
- Ключевые слова: "хороший потенциал", "гармоничный брак", "естественные партнёры", "долгосрочные отношения"
- Примеры: Овен×Лев, Близнецы×Весы, Стрелец×Козерог

**Средняя совместимость (0.50–0.69):**
- Ключевые слова: "хорошие шансы", "при работе над отношениями", "взлёты и падения", "средняя совместимость"
- Примеры: Овен×Овен, Лев×Дева, Скорпион×Стрелец

**Низкая совместимость (0.30–0.49):**
- Ключевые слова: "трудности", "много работы", "сложные отношения", "проблемы в браке"
- Примеры: Лев×Козерог, Водолей×Телец, Близнецы×Близнецы (парадоксально)

**Очень сложная совместимость (0.0–0.29):**
- Ключевые слова: "маловероятны отношения", "тяжёлый брак", "очень сложно", "скорее друзья-приветики"
- Примеры: Телец×Близнецы, Телец×Стрелец

### 3. Принципы присвоения score

1. **Симметрия**: Обе направленности (Asc1→Asc2 и Asc2→Asc1) получают одинаковый score (JSON даёт описания для обоих направлений, но мы используем среднее)
2. **Приоритет брака**: Если описание брака положительное ("удачный", "счастливый"), это сильно влияет на score
3. **Баланс аспектов**: Учитываются все разделы (дружба, работа, любовь, брак, совместная жизнь)
4. **Смягчающие факторы**: Если описание указывает "при условии работы над отношениями" — score понижается, но не до минимума

### 4. Использование в алгоритме

В `src/synastry/scoring.ts`:
```typescript
function scoreAscendant(left, right) {
  const score = getAscCompatScore(asc1, asc2); // 0..1
  const raw = (score - 0.5) * 2;              // преобразуем в −1..+1
  return { raw, details: [...] };
}
```

Модуль "ASC×ASC" получает вес **15%** от итогового score синастрии.

### 5. Топ-5 лучших пар (score ≥ 0.95)
1. Телец × Рак / Рак × Телец (0.95)
2. Телец × Дева / Дева × Телец (0.95)
3. Телец × Козерог / Козерог × Телец (0.95)
4. Рак × Скорпион / Скорпион × Рак (0.95)
5. Рак × Рыбы / Рыбы × Рак (0.95)
6. Дева × Рак / Рак × Дева (0.95)
7. Дева × Козерог / Козерог × Дева (0.95)
8. Скорпион × Рыбы / Рыбы × Скорпион (0.95)

**Паттерн:** Земные знаки (Телец, Дева, Козерог) + Водные (Рак, Скорпион, Рыбы) демонстрируют исключительную совместимость.

### 6. Топ-5 худших пар (score ≤ 0.25)
1. Телец × Близнецы / Близнецы × Телец (0.10)
2. Телец × Стрелец / Стрелец × Телец (0.15)
3. Овен × Телец / Телец × Овен (0.25)

**Паттерн:** Земные (Телец) + Воздушные/Огненные с высокой подвижностью (Близнецы, Стрелец) плохо совместимы.

## Примечания
- Score основан на текстовом анализе описаний из JSON
- Можно калибровать по реальным данным пользователей (если собрать статистику браков/разводов)
- Описания учитывают ведическую астрологию, но score универсален для UI
